{"remainingRequest":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/babel-loader/lib/index.js!/Users/pegahghojavand/development/aepp-naming-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pegahghojavand/development/aepp-naming-example/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pegahghojavand/development/aepp-naming-example/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pegahghojavand/development/aepp-naming-example/src/components/HelloWorld.vue","mtime":1554985526000},{"path":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/pegahghojavand/development/aepp-naming-example/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Aepp } from '@aeternity/aepp-sdk';\nimport { AeButton, mixins, AeInput, AeHeader, AeIcon, AeLabel, AeBanner } from '@aeternity/aepp-components';\nimport axios from 'axios';\nexport default {\n  name: 'HelloWorld',\n  mixins: [mixins.events],\n  components: {\n    AeButton: AeButton,\n    AeInput: AeInput,\n    AeHeader: AeHeader,\n    AeIcon: AeIcon,\n    AeLabel: AeLabel,\n    AeBanner: AeBanner\n  },\n  methods: {\n    checkName: function () {\n      var _checkName = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var middlewareUrl, namingAccTxs, filteredNamingTxs;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                middlewareUrl = \"https://testnet.mdw.aepps.com/\";\n                _context.next = 3;\n                return axios.get(\"\".concat(middlewareUrl, \"/middleware/transactions/account/\").concat(this.pub)).catch(console.error).then(function (res) {\n                  return res.data.transactions;\n                });\n\n              case 3:\n                namingAccTxs = _context.sent;\n                filteredNamingTxs = namingAccTxs.filter(function (tx) {\n                  return tx.tx.type === 'NameClaimTx';\n                }).filter(function (tx) {\n                  return tx.tx.accountId === _this.address;\n                });\n                this.nameTxs = filteredNamingTxs;\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function checkName() {\n        return _checkName.apply(this, arguments);\n      }\n\n      return checkName;\n    }(),\n    registration: function () {\n      var _registration = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var query, preclaim, claim, update;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.client.aensQuery(this.aensName).then(function () {\n                  return true;\n                }).catch(function () {\n                  return alert(false);\n                });\n\n              case 2:\n                query = _context2.sent;\n                console.log(query);\n                _context2.next = 6;\n                return this.client.aensPreclaim(this.aensName);\n\n              case 6:\n                preclaim = _context2.sent;\n                console.log(preclaim);\n                _context2.next = 10;\n                return this.client.aensClaim(this.aensName, preclaim.salt, preclaim.height);\n\n              case 10:\n                claim = _context2.sent;\n                console.log(claim);\n                _context2.next = 14;\n                return this.client.aensUpdate(claim.id, this.pub);\n\n              case 14:\n                update = _context2.sent;\n                console.log(update);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function registration() {\n        return _registration.apply(this, arguments);\n      }\n\n      return registration;\n    }()\n  },\n  data: function data() {\n    return {\n      client: null,\n      message: 'Welcome!',\n      aensName: '',\n      pub: '',\n      nameTxs: []\n    };\n  },\n  created: function created() {\n    var _this2 = this;\n\n    Aepp().then(function (ae) {\n      _this2.client = ae;\n      ae.address().then(function (address) {\n        _this2.pub = address;\n      }).catch(function (e) {\n        _this2.pub = \"Rejected: \".concat(e);\n      });\n    });\n  }\n};",{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <ae-banner>\n      <h1>Pegæhs Næme Registrætion Stætion</h1>\n          <ae-icon style=\"font-size:75px\" name=\"aeternity\" />\n    </ae-banner>\n    <!-- <div id=\"app-1\">\n      <h2>This æternity blockchain aepp allows you to register names.</h2>\n    </div> -->\n    <div id=\"app-2\">\n      <h2 style=\"text-align:left\">Please enter the desired name for registration (e.g. testname.test):</h2>\n      <ae-input placeholder=\"aensName\"/><br/>\n      <ae-button face=\"round\" fill=\"primary\" @click=\"registration\">Register</ae-button>\n      <p>  </p>\n      <ae-button face=\"round\" fill=\"primary\" @click=\"checkName\">Show Registred Names</ae-button>\n    </div>\n    <div id=\"app-3\">\n      <ae-label>\n        <ul id=\"names-1\">\n          <li v-for=\"tx in nameTxs\">\n            {{ tx.tx.name }}\n          </li>\n        </ul>\n     </ae-label>\n    </div>\n</div>\n</template>\n\n<script>\nimport {Aepp} from '@aeternity/aepp-sdk'\nimport { AeButton, mixins, AeInput, AeHeader, AeIcon, AeLabel, AeBanner } from '@aeternity/aepp-components'\nimport axios from 'axios'\n\nexport default {\n  name: 'HelloWorld',\n  mixins: [mixins.events],\n  components: {\n   AeButton,\n   AeInput,\n   AeHeader,\n   AeIcon,\n   AeLabel,\n   AeBanner\n  },\n  methods: {\n    async checkName () {\n      const middlewareUrl = \"https://testnet.mdw.aepps.com/\";\n      const namingAccTxs = await axios.get(`${middlewareUrl}/middleware/transactions/account/${this.pub}`).catch(console.error).then(res => res.data.transactions);\n      const filteredNamingTxs = namingAccTxs\n        .filter(tx => tx.tx.type === 'NameClaimTx')\n        .filter(tx => tx.tx.accountId === this.address)\n      this.nameTxs = filteredNamingTxs\n\n    },\n    async registration () {\n     const query = await this.client.aensQuery(this.aensName).then(()=>true).catch(()=>alert(false));\n     console.log(query);\n\n     const preclaim = await this.client.aensPreclaim(this.aensName);\n     console.log(preclaim);\n\n     const claim = await this.client.aensClaim(this.aensName, preclaim.salt, preclaim.height);\n     console.log(claim);\n\n     const update = await this.client.aensUpdate(claim.id, this.pub);\n     console.log(update);\n   }\n\n },\n  data() {\n    return {\n    client: null,\n    message: 'Welcome!',\n    aensName: '',\n    pub: '',\n    nameTxs: []\n  }},\n  created () {\n    Aepp().then(ae => {\n      this.client = ae\n      ae.address()\n        .then(address => {\n          this.pub = address\n        })\n        .catch(e => { this.pub = `Rejected: ${e}` })\n    })\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"],"sourceRoot":"src/components"}]}