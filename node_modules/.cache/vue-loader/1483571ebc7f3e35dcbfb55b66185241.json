{"remainingRequest":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pegahghojavand/development/aepp-naming-example/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pegahghojavand/development/aepp-naming-example/src/components/HelloWorld.vue","mtime":1554217802000},{"path":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pegahghojavand/development/aepp-naming-example/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {Aepp} from '@aeternity/aepp-sdk'\nimport { AeButton, mixins, AeInput, AeHeader, AeIcon } from '@aeternity/aepp-components'\nimport axios from 'axios'\n\nexport default {\n  name: 'HelloWorld',\n  mixins: [mixins.events],\n  components: {\n   AeButton,\n   AeInput,\n   AeHeader,\n   AeIcon\n  },\n  methods: {\n    async checkName () {\n      const middlewareUrl = \"https://testnet.mdw.aepps.com/\";\n      const namingAccTxs = await axios.get(`${middlewareUrl}/middleware/transactions/account/${this.pub}`).catch(console.error).then(res => res.data.transactions);\n      const filteredNamingTxs = namingAccTxs\n        .filter(tx => tx.tx.type === 'NameClaimTx')\n        .filter(tx => tx.tx.accountId === this.address)\n      this.nameTxs = filteredNamingTxs\n\n    },\n    async registration () {\n     const query = await this.client.aensQuery(this.aensName).then(()=>true).catch(()=>alert(false));\n     console.log(query);\n   //\n   //   const preclaim = await this.client.aensPreclaim(this.aensName);\n   //   console.log(preclaim);\n   //\n   //   const claim = await this.client.aensClaim(this.aensName, preclaim.salt, preclaim.height);\n   //   console.log(claim);\n   //\n   //   const update = await this.client.aensUpdate(claim.id, this.pub);\n   //   console.log(update);\n   },\n\n },\n  data() {\n    return {\n    client: null,\n    message: 'Welcome!',\n    aensName: '',\n    pub: '',\n    nameTxs: []\n  }},\n  created () {\n    Aepp().then(ae => {\n      this.client = ae\n      ae.address()\n        .then(address => {\n          this.pub = address\n        })\n        .catch(e => { this.pub = `Rejected: ${e}` })\n    })\n  }\n}\n",{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <ae-icon name=\"aeternity\" />\n    <h1>pegah's name registration station</h1>\n    <div id=\"app-1\">\n      <h3>This Ã¦ternity blockchain aepp allows you to register names.</h3>\n    </div>\n    <div id=\"app-2\">\n      <p>Please enter the desired name for registration (e.g. testname.test):</p>\n      <ae-input placeholder=\"aensName\"/><br/>\n      <ae-button face=\"round\" fill=\"primary\" @click=\"registration\">Register</ae-button>\n    </div>\n    <div id=\"app-3\">\n      <p>Show all registered name for this account:</p>\n      <ae-button face=\"round\" fill=\"primary\" @click=\"checkName\">Show</ae-button>\n      <ul id=\"names-1\">\n        <li v-for=\"tx in nameTxs\">\n          {{ tx.tx.name }}\n        </li>\n      </ul>\n    </div>\n</div>\n</template>\n\n<script>\nimport {Aepp} from '@aeternity/aepp-sdk'\nimport { AeButton, mixins, AeInput, AeHeader, AeIcon } from '@aeternity/aepp-components'\nimport axios from 'axios'\n\nexport default {\n  name: 'HelloWorld',\n  mixins: [mixins.events],\n  components: {\n   AeButton,\n   AeInput,\n   AeHeader,\n   AeIcon\n  },\n  methods: {\n    async checkName () {\n      const middlewareUrl = \"https://testnet.mdw.aepps.com/\";\n      const namingAccTxs = await axios.get(`${middlewareUrl}/middleware/transactions/account/${this.pub}`).catch(console.error).then(res => res.data.transactions);\n      const filteredNamingTxs = namingAccTxs\n        .filter(tx => tx.tx.type === 'NameClaimTx')\n        .filter(tx => tx.tx.accountId === this.address)\n      this.nameTxs = filteredNamingTxs\n\n    },\n    async registration () {\n     const query = await this.client.aensQuery(this.aensName).then(()=>true).catch(()=>alert(false));\n     console.log(query);\n   //\n   //   const preclaim = await this.client.aensPreclaim(this.aensName);\n   //   console.log(preclaim);\n   //\n   //   const claim = await this.client.aensClaim(this.aensName, preclaim.salt, preclaim.height);\n   //   console.log(claim);\n   //\n   //   const update = await this.client.aensUpdate(claim.id, this.pub);\n   //   console.log(update);\n   },\n\n },\n  data() {\n    return {\n    client: null,\n    message: 'Welcome!',\n    aensName: '',\n    pub: '',\n    nameTxs: []\n  }},\n  created () {\n    Aepp().then(ae => {\n      this.client = ae\n      ae.address()\n        .then(address => {\n          this.pub = address\n        })\n        .catch(e => { this.pub = `Rejected: ${e}` })\n    })\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}